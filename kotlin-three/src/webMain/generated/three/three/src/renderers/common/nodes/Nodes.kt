// Generated by Karakum - do not modify it manually!

@file:JsModule("threethree")

package three.src.renderers.common.nodes

// unhandled import: Camera from "../../../cameras/Camera.js"
// unhandled import: Object3D from "../../../core/Object3D.js"
// unhandled import: Material from "../../../materials/Material.js"
// unhandled import: Color from "../../../math/Color.js"
// unhandled import: default as Node from "../../../nodes/core/Node.js"
// unhandled import: default as NodeBuilder from "../../../nodes/core/NodeBuilder.js"
// unhandled import: default as UniformGroupNode from "../../../nodes/core/UniformGroupNode.js"
// unhandled import: default as ComputeNode from "../../../nodes/gpgpu/ComputeNode.js"
// unhandled import: default as LightsNode from "../../../nodes/lighting/LightsNode.js"
// unhandled import: NodeFrame from "../../../nodes/Nodes.js"
// unhandled import: Fog from "../../../scenes/Fog.js"
// unhandled import: FogExp2 from "../../../scenes/FogExp2.js"
// unhandled import: Scene from "../../../scenes/Scene.js"
// unhandled import: CubeTexture from "../../../textures/CubeTexture.js"
// unhandled import: Texture from "../../../textures/Texture.js"
// unhandled import: default as Backend from "../Backend.js"
// unhandled import: default as ChainMap from "../ChainMap.js"
// unhandled import: default as DataMap from "../DataMap.js"
// unhandled import: default as Renderer from "../Renderer.js"
// unhandled import: default as RenderObject from "../RenderObject.js"
// unhandled import: default as NodeBuilderState from "./NodeBuilderState.js"
// unhandled import: default as NodeUniformsGroup from "./NodeUniformsGroup.js"













































external interface NodeUniformsGroupData {
var renderId: Double?
var frameId: Double?
}

external interface RenderObjectData {
var nodeBuilderState: NodeBuilderState?
}

external interface ComputeNodeData {
var nodeBuilderState: NodeBuilderState?
}

external interface SceneData {
var background: Any? /* Color | Texture | CubeTexture | undefined */
var backgroundNode: Node?
var fog: Any? /* Fog | FogExp2 | undefined */
var fogNode: Node?
var environment: Texture?
var environmentNode: Node?
}

external interface CacheKeyData {
var callId: Double
var cacheKey: Double
}

external object String /* "../../../scenes/Scene.js" */ {

}

/**
 * This renderer module manages node-related objects and is the
 * primary interface between the renderer and the node system.
 *
 * @private
 * @augments DataMap
 */
external class Nodes : DataMap<Temp89> {
constructor (renderer: Renderer, backend: Backend)
var renderer: Renderer
var backend: Backend
var nodeFrame: NodeFrame
var nodeBuilderCache: Map<String, NodeBuilderState>
var callHashCache: ChainMap</* readonly [
    Scene,
    LightsNode
] */, CacheKeyData>
var groupsData: ChainMap</* readonly [
    UniformGroupNode,
    NodeUniformsGroup
] */, Temp94>
var cacheLib: NodesCacheLib
/**
     * Returns `true` if the given node uniforms group must be updated or not.
     *
     * @param {NodeUniformsGroup} nodeUniformsGroup - The node uniforms group.
     * @return {boolean} Whether the node uniforms group requires an update or not.
     */
fun updateGroup(nodeUniformsGroup: NodeUniformsGroup): Boolean
/**
     * Returns the cache key for the given render object.
     *
     * @param {RenderObject} renderObject - The render object.
     * @return {number} The cache key.
     */
fun getForRenderCacheKey(renderObject: RenderObject): Double
/**
     * Returns a node builder state for the given render object.
     *
     * @param {RenderObject} renderObject - The render object.
     * @return {NodeBuilderState} The node builder state.
     */
fun getForRender(renderObject: RenderObject): NodeBuilderState
/**
     * Deletes the given object from the internal data map
     *
     * @param {any} object - The object to delete.
     * @return {?Object} The deleted dictionary.
     */
fun delete(`object`: NodeUniformsGroup): Any /* RenderObjectData | NodeUniformsGroupData | ComputeNodeData | SceneData */

/**
     * Deletes the given object from the internal data map
     *
     * @param {any} object - The object to delete.
     * @return {?Object} The deleted dictionary.
     */
fun delete(`object`: RenderObject): Any /* RenderObjectData | NodeUniformsGroupData | ComputeNodeData | SceneData */

/**
     * Deletes the given object from the internal data map
     *
     * @param {any} object - The object to delete.
     * @return {?Object} The deleted dictionary.
     */
fun delete(`object`: ComputeNode): Any /* RenderObjectData | NodeUniformsGroupData | ComputeNodeData | SceneData */

/**
     * Deletes the given object from the internal data map
     *
     * @param {any} object - The object to delete.
     * @return {?Object} The deleted dictionary.
     */
fun delete(`object`: Scene): Any /* RenderObjectData | NodeUniformsGroupData | ComputeNodeData | SceneData */
/**
     * Returns a node builder state for the given compute node.
     *
     * @param {Node} computeNode - The compute node.
     * @return {NodeBuilderState} The node builder state.
     */
fun getForCompute(computeNode: ComputeNode): NodeBuilderState
/**
     * Creates a node builder state for the given node builder.
     *
     * @private
     * @param {NodeBuilder} nodeBuilder - The node builder.
     * @return {NodeBuilderState} The node builder state.
     */
fun _createNodeBuilderState(nodeBuilder: NodeBuilder): NodeBuilderState
/**
     * Returns an environment node for the current configured
     * scene environment.
     *
     * @param {Scene} scene - The scene.
     * @return {Node} A node representing the current scene environment.
     */
fun getEnvironmentNode(scene: Scene): Node?
/**
     * Returns a background node for the current configured
     * scene background.
     *
     * @param {Scene} scene - The scene.
     * @return {Node} A node representing the current scene background.
     */
fun getBackgroundNode(scene: Scene): Node?
/**
     * Returns a fog node for the current configured scene fog.
     *
     * @param {Scene} scene - The scene.
     * @return {Node} A node representing the current scene fog.
     */
fun getFogNode(scene: Scene): Node?
/**
     * Returns a cache key for the given scene and lights node.
     * This key is used by `RenderObject` as a part of the dynamic
     * cache key (a key that must be checked every time the render
     * objects is drawn).
     *
     * @param {Scene} scene - The scene.
     * @param {LightsNode} lightsNode - The lights node.
     * @return {number} The cache key.
     */
fun getCacheKey(scene: Scene, lightsNode: LightsNode): Double
/**
     * A boolean that indicates whether tone mapping should be enabled
     * or not.
     *
     * @type {boolean}
     */
val isToneMappingState: Boolean
/**
     * If a scene background is configured, this method makes sure to
     * represent the background with a corresponding node-based implementation.
     *
     * @param {Scene} scene - The scene.
     */
fun updateBackground(scene: Scene): Unit
/**
     * This method is part of the caching of nodes which are used to represents the
     * scene's background, fog or environment.
     *
     * @param {string} type - The type of object to cache.
     * @param {Object} object - The object.
     * @param {Function} callback - A callback that produces a node representation for the given object.
     * @param {boolean} [forceUpdate=false] - Whether an update should be enforced or not.
     * @return {Node} The node representation.
     */
fun getCacheNode(type: String, `object`: Any, callback: () -> Node?, forceUpdate: Boolean = definedExternally): Node?
/**
     * If a scene fog is configured, this method makes sure to
     * represent the fog with a corresponding node-based implementation.
     *
     * @param {Scene} scene - The scene.
     */
fun updateFog(scene: Scene): Unit
/**
     * If a scene environment is configured, this method makes sure to
     * represent the environment with a corresponding node-based implementation.
     *
     * @param {Scene} scene - The scene.
     */
fun updateEnvironment(scene: Scene): Unit
fun getNodeFrame(renderer: Renderer = definedExternally, scene: Scene? = definedExternally, `object`: Object3D? = definedExternally, camera: Camera? = definedExternally, material: Material? = definedExternally): NodeFrame
fun getNodeFrameForRender(renderObject: RenderObject): NodeFrame
/**
     * Returns the current output cache key.
     *
     * @return {string} The output cache key.
     */
fun getOutputCacheKey(): String
/**
     * Checks if the output configuration (tone mapping and color space) for
     * the given target has changed.
     *
     * @param {Texture} outputTarget - The output target.
     * @return {boolean} Whether the output configuration has changed or not.
     */
fun hasOutputChange(outputTarget: Texture): Boolean
/**
     * Returns a node that represents the output configuration (tone mapping and
     * color space) for the current target.
     *
     * @param {Texture} outputTarget - The output target.
     * @return {Node} The output node.
     */
fun getOutputNode(outputTarget: Texture): Node
/**
     * Triggers the call of `updateBefore()` methods
     * for all nodes of the given render object.
     *
     * @param {RenderObject} renderObject - The render object.
     */
fun updateBefore(renderObject: RenderObject): Unit
/**
     * Triggers the call of `updateAfter()` methods
     * for all nodes of the given render object.
     *
     * @param {RenderObject} renderObject - The render object.
     */
fun updateAfter(renderObject: RenderObject): Unit
/**
     * Triggers the call of `update()` methods
     * for all nodes of the given compute node.
     *
     * @param {Node} computeNode - The compute node.
     */
fun updateForCompute(computeNode: ComputeNode): Unit
/**
     * Triggers the call of `update()` methods
     * for all nodes of the given compute node.
     *
     * @param {RenderObject} renderObject - The render object.
     */
fun updateForRender(renderObject: RenderObject): Unit
/**
     * Returns `true` if the given render object requires a refresh.
     *
     * @param {RenderObject} renderObject - The render object.
     * @return {boolean} Whether the given render object requires a refresh or not.
     */
fun needsRefresh(renderObject: RenderObject): Boolean
/**
     * Frees the internal resources.
     */
fun dispose(): Unit
}

/* export default Nodes; */
external interface Temp90 {
var key: NodeUniformsGroup
var value: NodeUniformsGroupData
}

external interface Temp91 {
var key: RenderObject
var value: RenderObjectData
}

external interface Temp92 {
var key: ComputeNode
var value: ComputeNodeData
}

external interface Temp93 {
var key: Scene
var value: SceneData
}

external interface Temp89 {
/**
     * Constructs a new nodes management component.
     *
     * @param {Renderer} renderer - The renderer.
     * @param {Backend} backend - The renderer's backend.
     */
var nodeUniformsGroup: Temp90
var renderObject: Temp91
var computeNode: Temp92
var scene: Temp93
}

external interface Temp94 {
var version: Double?
}

external interface NodesCacheLib {
operator fun get(key: String): WeakMap<Any, Node?>?

operator fun set(key: String, value: WeakMap<Any, Node?>?)
}