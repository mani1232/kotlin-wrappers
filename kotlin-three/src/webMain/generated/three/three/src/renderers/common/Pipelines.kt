// Generated by Karakum - do not modify it manually!

@file:JsModule("threethree")

package three.src.renderers.common

// unhandled import: default as ComputeNode from "../../nodes/gpgpu/ComputeNode.js"
// unhandled import: default as Backend from "./Backend.js"
// unhandled import: default as Binding from "./Binding.js"
// unhandled import: default as Bindings from "./Bindings.js"
// unhandled import: default as ComputePipeline from "./ComputePipeline.js"
// unhandled import: default as DataMap from "./DataMap.js"
// unhandled import: default as Nodes from "./nodes/Nodes.js"
// unhandled import: default as Pipeline from "./Pipeline.js"
// unhandled import: default as ProgrammableStage from "./ProgrammableStage.js"
// unhandled import: default as RenderObject from "./RenderObject.js"
// unhandled import: default as RenderPipeline from "./RenderPipeline.js"























external interface ComputeNodeData {
var version: Double
var pipeline: ComputePipeline
}

external interface RenderObjectData {
var pipeline: RenderPipeline
}

/**
 * This renderer module manages the pipelines of the renderer.
 *
 * @private
 * @augments DataMap
 */
external class Pipelines : DataMap<Temp97> {
/**
     * Constructs a new pipeline management component.
     *
     * @param {Backend} backend - The renderer's backend.
     * @param {Nodes} nodes - Renderer component for managing nodes related logic.
     */
constructor (backend: Backend, nodes: Nodes)
var backend: Backend
var nodes: Nodes
var bindings: Bindings?
var caches: Map<String, Pipeline>
var programs: PipelinesPrograms
/**
     * Returns a compute pipeline for the given compute node.
     *
     * @param {Node} computeNode - The compute node.
     * @param {Array<BindGroup>} bindings - The bindings.
     * @return {ComputePipeline} The compute pipeline.
     */
fun getForCompute(computeNode: ComputeNode, bindings: js.array.ReadonlyArray<Binding>): ComputePipeline
/**
     * Returns a render pipeline for the given render object.
     *
     * @param {RenderObject} renderObject - The render object.
     * @param {?Array<Promise>} [promises=null] - An array of compilation promises which is only relevant in context of `Renderer.compileAsync()`.
     * @return {RenderPipeline} The render pipeline.
     */
fun getForRender(renderObject: RenderObject, promises: js.array.ReadonlyArray<Promise<js.core.Void>>? = definedExternally): RenderPipeline
/**
     * Deletes the pipeline for the given render object.
     *
     * @param {RenderObject} object - The render object.
     * @return {?Object} The deleted dictionary.
     */
fun delete(`object`: ComputeNode): Nothing

/**
     * Deletes the pipeline for the given render object.
     *
     * @param {RenderObject} object - The render object.
     * @return {?Object} The deleted dictionary.
     */
fun delete(`object`: RenderObject): Nothing
/**
     * Frees internal resources.
     */
fun dispose(): Unit
/**
     * Updates the pipeline for the given render object.
     *
     * @param {RenderObject} renderObject - The render object.
     */
fun updateForRender(renderObject: RenderObject): Unit
/**
     * Returns a compute pipeline for the given parameters.
     *
     * @private
     * @param {Node} computeNode - The compute node.
     * @param {ProgrammableStage} stageCompute - The programmable stage representing the compute shader.
     * @param {string} cacheKey - The cache key.
     * @param {Array<BindGroup>} bindings - The bindings.
     * @return {ComputePipeline} The compute pipeline.
     */
fun _getComputePipeline(computeNode: ComputeNode, stageCompute: ProgrammableStage, cacheKey: String, bindings: js.array.ReadonlyArray<Binding>): ComputePipeline
/**
     * Returns a render pipeline for the given parameters.
     *
     * @private
     * @param {RenderObject} renderObject - The render object.
     * @param {ProgrammableStage} stageVertex - The programmable stage representing the vertex shader.
     * @param {ProgrammableStage} stageFragment - The programmable stage representing the fragment shader.
     * @param {string} cacheKey - The cache key.
     * @param {?Array<Promise>} promises - An array of compilation promises which is only relevant in context of `Renderer.compileAsync()`.
     * @return {ComputePipeline} The compute pipeline.
     */
fun _getRenderPipeline(renderObject: RenderObject, stageVertex: ProgrammableStage, stageFragment: ProgrammableStage, cacheKey: String, promises: js.array.ReadonlyArray<Promise<js.core.Void>>?): RenderPipeline
/**
     * Computes a cache key representing a compute pipeline.
     *
     * @private
     * @param {Node} computeNode - The compute node.
     * @param {ProgrammableStage} stageCompute - The programmable stage representing the compute shader.
     * @return {string} The cache key.
     */
fun _getComputeCacheKey(computeNode: ComputeNode, stageCompute: ProgrammableStage): String
/**
     * Computes a cache key representing a render pipeline.
     *
     * @private
     * @param {RenderObject} renderObject - The render object.
     * @param {ProgrammableStage} stageVertex - The programmable stage representing the vertex shader.
     * @param {ProgrammableStage} stageFragment - The programmable stage representing the fragment shader.
     * @return {string} The cache key.
     */
fun _getRenderCacheKey(renderObject: RenderObject, stageVertex: ProgrammableStage, stageFragment: ProgrammableStage): String
/**
     * Releases the given pipeline.
     *
     * @private
     * @param {Pipeline} pipeline - The pipeline to release.
     */
fun _releasePipeline(pipeline: Pipeline): Unit
/**
     * Releases the shader program.
     *
     * @private
     * @param {Object} program - The shader program to release.
     */
fun _releaseProgram(program: ProgrammableStage): Unit
/**
     * Returns `true` if the compute pipeline for the given compute node requires an update.
     *
     * @private
     * @param {Node} computeNode - The compute node.
     * @return {boolean} Whether the compute pipeline for the given compute node requires an update or not.
     */
fun _needsComputeUpdate(computeNode: ComputeNode): Boolean
/**
     * Returns `true` if the render pipeline for the given render object requires an update.
     *
     * @private
     * @param {RenderObject} renderObject - The render object.
     * @return {boolean} Whether the render object for the given render object requires an update or not.
     */
fun _needsRenderUpdate(renderObject: RenderObject): Any /* true | void */
}

/* export default Pipelines; */
external interface Temp98 {
var key: ComputeNode
var value: ComputeNodeData
}

external interface Temp99 {
var key: RenderObject
var value: RenderObjectData
}

external interface Temp97 {
var computeNode: Temp98
var renderObject: Temp99
}

external interface PipelinesPrograms {
var vertex: Map<String, ProgrammableStage>
var fragment: Map<String, ProgrammableStage>
var compute: Map<String, ProgrammableStage>
}